<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Android知识点日常记录(四)]]></title>
    <url>%2F2019%2F09%2F10%2FAndroid%E7%9F%A5%E8%AF%86%E7%82%B9%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95-%E5%9B%9B%2F</url>
    <content type="text"><![CDATA[显示不重复Notification消息通知的重点就是下面的这个方法，根据源码解释可知，我们想要通知不重复显示，就变更Id就可以。 1234567891011121314/** * Post a notification to be shown in the status bar. If a notification with * the same id has already been posted by your application and has not yet been canceled, it * will be replaced by the updated information. * * @param id An identifier for this notification unique within your * application. * @param notification A &#123;@link Notification&#125; object describing what to show the user. Must not * be null. */ public void notify(int id, Notification notification) &#123; notify(null, id, notification); &#125; 解决方案：将时间戳作为Id，传入方法中。123int notifyId = (int) System.currentTimeMillis(); // 发出通知notificationManager.notify(notifyId, builder.build()); 神奇的supersuper.onBackPressed()项目中需要在Back键返回的时候，传值给上一个界面，重写了onBackPressed()方法，正常传值。代码运行与想象不一致，然后就在想是什么问题，试着把super.onBackPressed();父类调用放在最后，编译运行代码，符合预期。 直接调用父类的super.onBackPressed();不会走子类的传值，页面已经finish()掉，所以需要此类场景的传值，需要将父类调用放在最后。 1234567@Override public void onBackPressed() &#123; Intent intent = new Intent(); intent.putExtra(&quot;picture&quot;, selImageList); setResult(RESULT_OK, intent); super.onBackPressed(); &#125; super.onBindViewHolder(viewHolder, position)RecyclerView的Adapter没有每个item点击事件，需要自己去写接口监听，写了一个BaseAdapter，点击事件监听Ok,处理加载更多，不小心删掉了super.onBindViewHolder(viewHolder, position)，点击事件失效。添加父类调用，点击事件Ok。 经过这两个日常问题的处理，更加深刻的理解了super的重要性。 Parcel: unable to marshal value在两个Activity直接传递List&lt;XXInfo&gt;时，出现Parcel: unable to marshal value异常。必须强制类型转换为ArrayList&lt;XXInfo&gt;。 在OneActivity页面（OneActivity页面向NextActivity页面传递一个List&lt;XXInfo&gt;）：123Intent intent = new Intent(this, NextActivity.class);intent.putExtra(&quot;list&quot;, list);startActivity(intent); 解决方案：XXInfo要implements Serializable或者继承Parcelable,list必须是ArrayList（若是List会提示错误）。 12MainActivity中，intent.putExtra(&quot;list&quot;, Arraylist实例)。NextActivity中，List&lt;xxInfo&gt; infoList = (ArrayList) getIntent().getSerializableExtra(&quot;list&quot;)]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>技术</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[EventBus学习]]></title>
    <url>%2F2019%2F09%2F04%2FEventBus%E5%AD%A6%E4%B9%A0%2F</url>
    <content type="text"><![CDATA[EventBus使用很早之前就听过EventBus这个神器了，因为参与了新项目，维护同事的代码，全部用的是EventBus，确实很好用，很简单。]]></content>
      <categories>
        <category>EventBus</category>
      </categories>
      <tags>
        <tag>工具</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android知识点日常记录(三)]]></title>
    <url>%2F2019%2F09%2F02%2FAndroid%E7%9F%A5%E8%AF%86%E7%82%B9%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95-%E4%B8%89%2F</url>
    <content type="text"><![CDATA[ScrollView嵌套RecyclerView数据显示不全解决方案查看代码，布局中没有给RecycleView设置layoutManager，发现是代码中动态设置的。12345678LinearLayoutManager classifyDataManager = new LinearLayoutManager(this) &#123; @Override public boolean canScrollVertically() &#123; return false; &#125; &#125;; //配置布局，默认为vertical（垂直布局） classifyDataManager.setOrientation(LinearLayoutManager.VERTICAL); 字面意思理解，canScrollVertically()方法return false，可能是数据显示不全的原因，试着改为return true，测试了下，数据显示正常了，RecycleView的数据必须通过滑动来查看，跟ScrollView滑动响应不一致，导致用户体验不好。 优化方案查找资料，发现了一个NestedScrollView可以替换ScrollView,NestedScrollView的名字中其实就可以看出他的作用了，Nested是嵌套的意思。12最终解决方案ScrollView换为&lt;android.support.v4.widget.NestedScrollView&gt;问题解决了 系统通知，点击消息未消失项目中推送消息，使用MQTT协议来实现，拿到消息后，显示一个Notification,点击后，Notification未消失。增加如下两个属性。setContentIntent()与setAutoCancel()。1234Notification.Builder builder = new Notification.Builder(this);builder.setContentIntent(contentIntent).setAutoCancel(true); OkHttp上传图片服务器无法获取的问题测试在现场提出一个问题，发布任务带图片，就发送失败，客户端网络请求走到了onFailure()，但是用PostMan测试，又能正常上传，Google发现，在OkHttp请求的时候，setType()设置的MultipartBody.FORM，未指定编码，导致服务器无法解析此请求，导致请求失败。12345错误请求设置：MultipartBody.Builder builder=new MultipartBody.Builder() .setType(MultipartBody.FORM);正确请求设置： MultipartBody.Builder builder = new MultipartBody.Builder().setType(MediaType.parse(&quot;multipart/form-data;charset=utf-8&quot;)); 相见恨晚的CountDownTimer一般项目中注册发送验证码都会有一个倒计时的功能，以前的实现方式就是使用Handler+Thread方式，既然有了CountDownTimer，就不用那么复杂了，直接使用如下：12345678910new CountDownTimer(30000, 1000) &#123; public void onTick(long millisUntilFinished) &#123; mTextField.setText(millisUntilFinished / 1000) + &quot;秒后可重发&quot;); &#125; public void onFinish() &#123; mTextField.setText(&quot;done!&quot;); &#125; &#125;.start(); CountDownTimer每隔1秒调用一次onTick(long millisUntilFinished)方法, 倒计时结束时调用onFinish()方法. CountDownTimer是运行在主线程，可以直接更新UI]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>技术</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[WebView使用踩坑记录]]></title>
    <url>%2F2019%2F08%2F26%2FWebView%E4%BD%BF%E7%94%A8%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[大前端是趋势，最近有两个项目涉及到原生跟H5嵌套以及交互，那WebView必不可少，以为会很顺利，结果这中间还是踩了不少坑。 H5调用相机无反应H5集成进来之后，测试发现，点击调起相机，无反应，然后IOS是正常的，我….好吧，Android就是这么独特。 Google了一番，发现，高版本的Android系统，WebView出于安全性考虑，限制H5访问本地文件。需要重写 WebviewChromeClient中的 openFileChooser()和onShowFileChooser()方法响应H5的&lt;input type=&quot;file&quot;&gt;,使用原生代码来调用本地相机和相册，然后在onActiivtyResult把选择的图片 URI 回传给 WebviewChromeClient。 1PS：注意Fragment与Activity的onStartActivityForResult区别，开了混淆的话，不要混淆onShowFileChooser()方法。 具体使用方式，网络有很多，这里有不详细介绍了，只记录下解题思路。参考博客 百度地图定位偏差项目中因为客户要求定位必须使用百度地图，所以，就出现了定位偏差的问题，IOS继续正常，Android定位偏差，继续填坑。H5通过IP定位，精度不好，有好几种解决方案。1234H5先用高德地图定位，然后显示在百度地图上降低targetSdkVersion版本到23升级Http到Https使用原生定位方法，将位置信息传给H5 方案1 任务量是H5的，无能为力方案2 试了一下，没效果方案3 Https升级要Money，So，忽略方案4 使用WebView的JavascriptInterface开接口给JS。 缓存问题同事写了一个加载WebView的模板，就无脑用了，如果出现网络异常，页面空白，网络正常后，还是空白页面，然后清除掉缓存就好了。额。。。然后就发现了如下这个配置：12345678如下设置项：//关闭webView中的缓存webSettings.setCacheMode(WebSettings.LOAD_CACHE_ELSE_NETWORK);LOAD_CACHE_ELSE_NETWORK：只要本地有缓存，就从缓存中读取数据。LOAD_DEFAULT：根据 Http 协议，决定是否从网络获取数据。LOAD_NO_CACHE：不使用缓存，只从网络获取数据。LOAD_CACHE_ONLY：不使用网络，只读本地缓存。 显示过小，缩放WebView加载H5，显示很小，必须手势放大才可以，隐藏掉如下配置：自动适配屏幕大小12345678910111213 //设置自适应屏幕，两者合用// webSettings.setUseWideViewPort(true);//将图片调整到合适webview的大小// webSettings.setLoadWithOverviewMode(true);//缩放至屏幕的大小// webSettings.setLayoutAlgorithm(WebSettings.LayoutAlgorithm.SINGLE_COLUMN); //支持缩放，默认为true，是下面的前提// webSettings.setSupportZoom(true); //设置内置的缩放控件，若上面是false，则该webview不可缩放，这个不管设置什么都不能缩放// webSettings.setBuiltInZoomControls(true);// webSettings.setDefaultZoom(WebSettings.ZoomDensity.FAR); //隐藏原生的缩放控件// webSettings.setDisplayZoomControls(false); H5页面跳转，隐藏底部toolBar底部toolBar的某一个操作项集成了H5，进入H5之后，底部的toolBar仍然存在，需要隐藏掉toolBar，重写WebViewClient的shouldOverrideUrlLoading()方法，URL给出标志，判断URL是否包含隐藏toolBar标志，如果包含，toolBar隐藏掉不显示。]]></content>
      <categories>
        <category>WebView</category>
      </categories>
      <tags>
        <tag>技术</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android知识点日常记录(二)]]></title>
    <url>%2F2019%2F06%2F16%2FAndroid%E7%9F%A5%E8%AF%86%E7%82%B9%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95-%E4%BA%8C%2F</url>
    <content type="text"><![CDATA[好记性不如烂笔头，知识点又来了。最近工作相当充实，体验了一把互联网公司的 996，累到只想睡觉。晚上抽空把知识点整理一下。 TextView Hint使用坑点一般APP会设计提示语，有输入内容的时候提示语消失，没有输入内容的话，就显示提示语，一般会使用控件的Hint属性,分分钟解决设计。但是最近我在项目中，使用这个Hint发现了一个问题，输入内容少于Hint内容，界面会显示异常，界面显示包含了Hint的长度。如果输入内容大于Hint内容，显示不会出现异常。很神奇的现象。 解决方案一种很简单粗暴的解决方案：设置文本内容显示在控件的右边。因为默认文本显示是居左，修改文本显示后，宽度以Hint宽度为基准，导致显示异常，出现空白。1android:gravity=&quot;right&quot; 网络请求 Token之前一直没有机会去调试接口，最近却被调接口虐到，有一个接口，Postman访问，接口请求正常，返回数据正常，但是自己就是拿不到数据。因为是维护别人的代码，就没仔细看，大致看了下，感觉没错。后台怀疑没传token，可是代码里面传了token，最后才发现，token传错了位置，传到了body里面。这低级错误，简直…… 修改网络请求，header中传入token，接口访问正常。 Fresco 框架 wrap_contentAndroid图片加载库很多，最近使用Facebook的一款图片加载库，很简单，使用之后，发现图片显示不了。查看官方文档，不支持Wrap_content，What ？文档链接如下： 为什么不支持wrap_content 解决方案原因官方已经解释的很清楚了，我们可以参照StackOverflow上的解决方案，也可以设置宽高比来解决图片不显示的问题。宽高比方案代码如下：1234&lt;com.facebook.drawee.view.SimpleDraweeView android:layout_width="wrap_content" fresco:viewAspectRatio="1" android:layout_height="100dp" /&gt; PS：宽高比方案，必须固定一边高度，另一边设置wrap_content与fresco:viewAspectRatio属性。]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>技术</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[.gitignore 通用配置]]></title>
    <url>%2F2019%2F06%2F08%2Fgitignore%E9%80%9A%E7%94%A8%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[Git是非常流行的版本控制工具，相信程序员这个群体没有不知道Git的，熟练掌握并使用非常有必要。在工作中，多人协作，经常会出现项目冲突，导致自己本地项目跑不起来，主要是一些个人配置被提交到了代码库，导致此问题。，每次git status都会显示Untracked files ...，逼死强迫症。如何解决呢？好在Git替我们想到了，在项目根目录下面，创建一个.gitignore文件，填入需要忽略的文件路径，Git就会自动忽略这些文件，相当方便。我们不需要从头编写.gitignore文件，Github上有一个gitignore开源项目,为我们准备了各种项目所需的.gitignore文件，我们只需要组合使用即可。项目地址 .gitignore 忽略原则拿Android项目举例来说： 忽略操作系统自动生成的文件，比如：.DS_Store文件 忽略项目自动生成的文件，比如：.idea文件 忽略项目编译生成的文件，比如：build文件 忽略本地带有敏感信息的配置文件，比如：存放口令与密码的配置文件 Android .gitignore文件这是 gitignore 项目中，给出的 Android 项目 .gitignore 配置文件。可做参考。12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182# Built application files*.apk*.ap_*.aab# Files for the ART/Dalvik VM*.dex# Java class files*.class# Generated filesbin/gen/out/release/# Gradle files.gradle/build/# Local configuration file (sdk path, etc)local.properties# Proguard folder generated by Eclipseproguard/# Log Files*.log# Android Studio Navigation editor temp files.navigation/# Android Studio captures foldercaptures/# IntelliJ*.iml.idea/workspace.xml.idea/tasks.xml.idea/gradle.xml.idea/assetWizardSettings.xml.idea/dictionaries.idea/libraries# Android Studio 3 in .gitignore file..idea/caches.idea/modules.xml# Comment next line if keeping position of elements in Navigation Editor is relevant for you.idea/navEditor.xml# Keystore files# Uncomment the following lines if you do not want to check your keystore files in.#*.jks#*.keystore# External native build folder generated in Android Studio 2.2 and later.externalNativeBuild# Google Services (e.g. APIs or Firebase)# google-services.json# Freelinefreeline.pyfreeline/freeline_project_description.json# fastlanefastlane/report.xmlfastlane/Preview.htmlfastlane/screenshotsfastlane/test_outputfastlane/readme.md# Version controlvcs.xml# lintlint/intermediates/lint/generated/lint/outputs/lint/tmp/# lint/reports/ .gitignore 常用匹配语法常见的忽略匹配语法：1234567891011&quot;#&quot; 开头的文件表示注释，会被git忽略&quot;/&quot; 表示文件目录 &quot;/&quot;结束的模式只匹配文件夹以及在该文件夹路径下的内容，但是不匹配该文件； &quot;/&quot;开始的模式匹配项目跟目录&quot;*&quot; 通配多个字符&quot;**&quot; 匹配任意中间目录&quot;!&quot; 表示否定，不忽略此文件 举例说明： 12345678910111213*.apk 表示忽略所有 .apk 结尾的文件!lib.b 忽略文件，但是lib.b除外build/ 忽略整个build文件夹/build 忽略整个项目下build文件与build文件夹*/foo: 表示忽略/foo,a/foo,a/b/foo等a/**/b: 表示忽略a/b, a/x/b,a/x/y/b等doc/*.txt 表示会忽略doc/notes.txt但不包括 doc/server/arch.txt 已被忽略的如何加入Git可以使用如下命令123git add -f "file name" 强制添加到gitgit rm --cached "file" 被忽略的文件误添加，可以使用rm命令将其从中移除 或者怀疑可能是.gitignore文件写的不对，需要查看是哪里写错了，可以使用git check-ignore。我们可以知道是哪个规则导致忽略了文件，从而修改规则。 1git check-ignore -v "file name" 总结：.gitignore要首先添加到版本控制中，如果在创建.gitignore之前已经push了项目，即使你在.gitignore文件中写入新的过滤规则，这些规则也不会起作用，Git仍然会对所有文件进行版本管理。 如果你已经把不想上传的文件上传到了Git仓库，那么你必须先从远程仓库删了它，我们可以从远程仓库直接删除然后pull代码到本地仓库这些文件就会本删除，或者从本地删除这些文件并且在.gitignore文件中添加这些你想忽略的文件，然后再push到远程仓库。 为了避免这种麻烦的操作，必须养成项目开始就创建编写.gitignore文件，好习惯，事半功倍。]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>技术</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android 知识点 日常记录（一）]]></title>
    <url>%2F2019%2F06%2F07%2FAndroid%E7%9F%A5%E8%AF%86%E7%82%B9%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95(%E4%B8%80)%2F</url>
    <content type="text"><![CDATA[常识性的知识，自己是知道的，但是又不确定是否准确，经常会出现这种状况。So，为了避免这种尴尬的情况出现，工作中一些小的知识点，整理记录下来。 View控件INVISIBLE，GONE的区别查看项目代码，很多布局是复用一个xml文件，导致有大量的逻辑去处理控件是否显示，VISIBLE不用多说，正常显示控件，一般不可见控件，我会选择GONE属性，但是还存在一种INVISIBLE属性，也是不可见，区别是什么呢？ 源码探究查看ViewGroup源码，如下方法，12345678910protected void measureChildren(int widthMeasureSpec, int heightMeasureSpec) &#123; final int size = mChildrenCount; final View[] children = mChildren; for (int i = 0; i &lt; size; ++i) &#123; final View child = children[i]; if ((child.mViewFlags &amp; VISIBILITY_MASK) != GONE) &#123; measureChild(child, widthMeasureSpec, heightMeasureSpec); &#125; &#125; &#125; 123456789101112131415161718192021222324@Overrideprotected void dispatchDraw(Canvas canvas) &#123; ...for (int i = 0; i &lt; childrenCount; i++) &#123; while (transientIndex &gt;= 0 &amp;&amp; mTransientIndices.get(transientIndex) == i) &#123; final View transientChild = mTransientViews.get(transientIndex); if ((transientChild.mViewFlags &amp; VISIBILITY_MASK) == VISIBLE || transientChild.getAnimation() != null) &#123; more |= drawChild(canvas, transientChild, drawingTime); &#125; transientIndex++; if (transientIndex &gt;= transientCount) &#123; transientIndex = -1; &#125; &#125; final int childIndex = getAndVerifyPreorderedIndex(childrenCount, i, customOrder); final View child = getAndVerifyPreorderedView(preorderedList, children, childIndex); if ((child.mViewFlags &amp; VISIBILITY_MASK) == VISIBLE || child.getAnimation() != null) &#123; more |= drawChild(canvas, child, drawingTime); &#125; &#125; ...&#125; 由上面两个源码方法可知，控件设置GONE属性，没有走measureChild(child, widthMeasureSpec, heightMeasureSpec);方法。 查看dispatchDraw(Canvas canvas);方法，可知，只有设置VISIBLE属性，才会执行drawChild(canvas, child, drawingTime); INVISIBLE与GONE均不执行此方法。 由View绘制流程可知，GONE属性未执行onMeasure()方法，所以不会占用界面空间。INVISIBLE执行了onMeasure()方法，但是没有执行onDraw()方法，所以会占用界面空间，但是不显示。 结论123INVISIBLE:不可见，保留了控件在界面的空间，相当于仍然占着坑GONE：不可见，不保留控件在界面的空间，未占坑 ScrollView只能有一个子节点ScrollView经常被使用在布局中以实现滑动效果，可以显示比实际界面的多的内容。在使用过程中，没注意，项目运行后，出现了ScrollView can host only one direct child异常： 查看官方文档，描述如下12345678public class ScrollView extends FrameLayout java.lang.Object ↳ android.view.View ↳ android.view.ViewGroup ↳ android.widget.FrameLayout ↳ android.widget.ScrollView A view group that allows the view hierarchy placed within it to be scrolled. Scroll view may have only one direct child placed within it. To add multiple views within the scroll view, make the direct child you add a view group, for example LinearLayout, and place additional views within that LinearLayout. 解决方案如官方文档描述，子控件外部嵌套一层LinearLayout,因为ScrollView是继承FrameLayout,FrameLayout的特点是所有控件均重叠防止在左上角，如果有多个子控件在ScrollView，无法实现滑动效果。 代码动态addView动态加载View，根据后台返回的数量来显示，for循环遍历，赋值，出现下图错误。The specified child already has a parent,You must call removeView() on the child&#39;s parent first.修改方案在错误中有提示。要防止一个View被add多次。 Resources not find123android.content.res.Resources$NotFoundException: String resource ID #0x1 at android.content.res.Resources.getText(Resources.java:339) at android.widget.TextView.setText(TextView.java:5496) View的setText（）方法传int值被当成了ResourceID，导致此错误。 解决方案可以拼接一个空子串，或者String.valueOf();12textView.setText(getNum + "");textView.setText(String.valueOf(getNum)); 总结很不起眼的小细节，出现错误，会浪费大量的时间，精力去分析，定位。做好记录，加深记忆。争取下次犯高级错误。]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>技术</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo 搭建 Blog 踩坑记录]]></title>
    <url>%2F2019%2F06%2F02%2FHexo-%E6%90%AD%E5%BB%BABlog-%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[字数显示undefined如下图： 安装好插件hexo-symbols-count-time后，查看界面，字数显示undefined，可能是因为第一次安装导致，执行如下命令：1hexo clean 然后再次查看，显示正常。 访客量显示在NexT主题的配置文件中，修改busuanzi_count配置项，将enable改为true。 这样显示的样式是鼠标点击图标时，才显示标题，可以修改NexT主题下layout/_third_party/analytics/busuanzi-counter.swig文件，如下：12345&lt;span class="site-pv" title="&#123;&#123; __('footer.total_views') &#125;&#125;"&gt; &#123;&#123; __('footer.total_views') &#125;&#125; &lt;span class="busuanzi-value" id="busuanzi_value_site_pv"&gt; &lt;/span&gt;&lt;/span&gt; 对比源文件，增加了1&#123;&#123; __(&apos;footer.total_views&apos;) &#125;&#125; 配置项。 常用命令记录123456789hexo init 初始化项目hexo s 运行项目hexo g -d 发布项目hexo new page &quot;tags&quot; 新增Itemhexo new “file name” 新建文章 大括号陷阱如下新增配置项，我在 Markdown 格式下，使用 ` 标签，导致配置项被当成JS代码运行，导致错误。 1&#123;&#123; __(&apos;footer.total_views&apos;) &#125;&#125; 建议涉及到代码部分，均使用 Markdown 代码块来表示，防止出现上述描述错误。]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>技术</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GitLab + Docker 私有化部署]]></title>
    <url>%2F2019%2F05%2F30%2FGitlab-Docker-%E7%A7%81%E6%9C%89%E5%8C%96%E9%83%A8%E7%BD%B2%2F</url>
    <content type="text"><![CDATA[为什么使用Gitlab遇到了一个很重视信息安全的Boss，代码都放在本地用SVN管理，对于没有怎么用过SVN的我来说，简直无从下手。为了方便，高效的管理项目，并跟踪项目中的问题，了解到了Gitlab这个神奇的存在，相比Github的私有仓库收费，且可能存在信息安全方面的风险，Gitlab支持私有化部署，而且免费，社区版本基本满足git项目管理需求，权限管理，项目分支版本管理，以及CI/CD功能等，相当小而精。下面介绍如果部署私有化Gitlab。 安装DockerGitlab有两种安装方式。 第一种是自己下载Gitlab安装包，自己配置相关运行环境，相当麻烦，更换机器，就得重新配置，让我想起了当年在服务器上部署MySql，Tomcat，Nginx，Kafka等组件的恐惧，多的时候有七八个组件，部署环境搞大半天，还要分布式部署，那个头大。 第二种方式是用现在非常流行的Docker来部署，Docker是一个虚拟化运行工具，将软件和整个环境打包起来，我们可以不需要任何配置，快速的部署环境来运行软件，提升效率。 下载安装Docker,执行如下命令:1brew cask install docker 配置镜像加速器鉴于国内网络原因，拉取Docker镜像十分缓慢，非常有必要配置一个加速器来解决速度问题。 在任务栏点击 Docker for mac 应用图标-&gt; Perferences... -&gt; Daemon -&gt; Registry mirrors在列表中填写加速器地址即可。修改完成之后，点击Apply &amp; Restart按钮，Docker 就会重启并应用配置的镜像地址了。地址如下：1http://f1361db2.m.daocloud.io 编写docker-compose.yml配置文件新建docker-compose.yml文件，写入如下内容。端口可以使用默认端口，也可以自己配置端口。 image 代表着最新的gitlab版本镜像 hostname代表域名，本地可以直接使用localhost或者局域网ip Volumes 本机映射文件路径可自己配置 12345678910111213141516web: image: 'gitlab/gitlab-ce:latest' restart: always hostname: 'gitlab.example.com' environment: GITLAB_OMNIBUS_CONFIG: | external_url 'https://gitlab.example.com' # Add any other gitlab.rb configuration here, each on its own line ports: - '80:80' - '443:443' - '22:22' volumes: - '/srv/gitlab/config:/etc/gitlab' - '/srv/gitlab/logs:/var/log/gitlab' - '/srv/gitlab/data:/var/opt/gitlab' 在当前目录下执行如下命令:1docker-compose up -d 等待片刻，浏览器网址输入打开localhost,就可以看到一个部署成功，运行起来的Gitlab，如下图： 因为我docker-compose.yml文件中images配置了汉化镜像：1image: &apos;twang2218/gitlab-ce-zh:11.1.4&apos; 分分钟，一个本地私有化的Gitlab就部署好了。]]></content>
      <categories>
        <category>GitLab</category>
      </categories>
      <tags>
        <tag>技术</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[第一篇 Blog]]></title>
    <url>%2F2019%2F05%2F28%2F%E7%AC%AC%E4%B8%80%E7%AF%87Blog%2F</url>
    <content type="text"><![CDATA[一直想着搭建自己的博客，拥有自己的一个小天地。最近终于行动了，博客搭建过程中，并没有想象中的那么难，畏难心态在以后的人生路中需要全力克服。 毕业这几年，感觉都不是很顺，但是也收获成长了许多，接下来就是对自己狠一点，逼自己尽快成长。下周就是新的开始了，希望自己能抗下压力，挑战成功，逆风翻盘。 自己焦虑的点是什么，就去做它，一直做到自己不焦虑为止。加油。]]></content>
      <categories>
        <category>日常</category>
      </categories>
      <tags>
        <tag>碎碎念</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2019%2F05%2F28%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
  </entry>
</search>
